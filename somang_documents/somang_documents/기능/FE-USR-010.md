## 기능 명세서: 계정 및 인증

### 1. 기능 기본 정보

| 항목 | 내용 |
| :--- | :--- |
| **기능 ID** | `FE-USR-010` |
| **기능명** | 계정 및 인증 (Account & Authentication) |
| **설명** | 사용자가 각 앱(user-app, biz-app)을 이용하기 위해 계정을 생성하고 로그인하는 과정입니다. |
| **관련 서비스** | -   **user-app**: 최종 사용자 회원가입 및 로그인 UI/기능<br>-   **biz-app**: 사업주 회원가입 및 로그인 UI/기능<br>-   **각 앱의 Supabase 프로젝트**: 독립된 인증 로직 및 사용자 세션 관리 수행 |

### 2. 요구사항

#### 2.1. 사용자 스토리
> T-Bridge를 처음 방문한 **예비 사용자/사업주로서**, 내가 이용할 서비스(사용자용/사업주용)에서 선호하는 방식으로 쉽고 빠르게 가입하고 로그인하여, 해당 서비스를 즉시 이용하고 싶다.

#### 2.2. 세부 요구사항 (기능 명세)

-   `user-app`과 `biz-app`은 각각 독립적인 회원가입 및 로그인 페이지를 가져야 한다.
-   각 앱은 이메일/비밀번호 및 소셜 로그인(카카오 등)을 지원한다.
-   로그인 성공 시, 각 앱은 해당 Supabase 프로젝트로부터 발급된 JWT를 브라우저의 `localStorage`에 안전하게 저장한다.
-   `localStorage`의 저장 키는 앱별로 고유해야 한다 (예: `user-app-auth-token`, `biz-app-auth-token`).
-   신규 회원가입 시, 각 앱의 `profiles` 테이블에 해당 사용자의 레코드가 생성되어야 한다.

### 3. 데이터 흐름

1.  **인증 요청**: 사용자가 `user-app` 또는 `biz-app`에서 로그인/회원가입 정보를 제출합니다.
2.  **자격 증명 제출**: 해당 앱의 클라이언트는 **자신의 Supabase 프로젝트 Auth 엔드포인트**로 인증을 요청합니다.
3.  **서버 인증**: 각 Supabase 프로젝트는 독립적으로 사용자를 인증하고, 신규 사용자인 경우 자신의 `auth.users` 및 `public.profiles` 테이블에 데이터를 생성합니다.
4.  **JWT 발급**: 인증 성공 시, 해당 프로젝트는 고유한 JWT를 생성하여 클라이언트에 반환합니다.
5.  **토큰 저장**: 클라이언트는 발급받은 JWT를 앱별 고유 키를 사용하여 `localStorage`에 저장합니다.
